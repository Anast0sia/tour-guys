document.addEventListener('DOMContentLoaded',()=>{setTimeout(()=>{const hamburger=document.querySelector('.hamburger'),back=document.querySelector('.header__back'),ul=document.querySelector('.header__ul'),prev=document.querySelector('.button_prev'),after=document.querySelector('.button_after'),arr=[...document.getElementsByClassName('cards-item')];let idx=0,width=window.innerWidth,step=width>=991?3:width>=767?2:1,arrSmall=arr.slice(0,step);const updateCards=()=>{requestAnimationFrame(()=>{arr.forEach(el=>el.style.display="none");arrSmall.forEach(el=>el.style.display="flex")})};hamburger.addEventListener('click',(e)=>{e.stopPropagation();hamburger.classList.toggle('hamburger_active');ul.classList.toggle('header__ul_active');back.classList.toggle('header__back_active')});document.addEventListener('click',(e)=>{if(ul.classList.contains('header__ul_active')&&e.target!==hamburger&&e.target!==ul&&e.target!==back){hamburger.classList.remove('hamburger_active');ul.classList.remove('header__ul_active');back.classList.remove('header__back_active')}});document.addEventListener('click',(e)=>{if(e.target.classList.contains('button_prev')){idx-=step;if(idx<0)idx=arr.length-step}else if(e.target.classList.contains('button_after')){idx+=step;if(idx>=arr.length)idx=0}else{return}arrSmall=arr.slice(idx,idx+step);updateCards()});updateCards()},100)});